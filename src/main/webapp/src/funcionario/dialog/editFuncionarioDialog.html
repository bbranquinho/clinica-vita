<md-dialog>
    <!--  <pre>{{ editarFuncionario.dataNascimento| json}}</pre>-->
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Edição de Funcionarios</h2>
            <span flex></span>

        </div>
    </md-toolbar>
    <form name="editFuncionarioForm" ng-submit="salvar()" ng-init="setFormEditFuncionarioScope(this)">
        <!--        <md-dialog-content>
                    <div layout="column" layout-padding>
                        <div layout-gt-sm="row">

                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Nome</label>
                                <input ng-model="editarFuncionario.user.nome" name="nome" required="required">
                                <div ng-messages="editFuncionarioForm.firstNome.$error">
                                    <div ng-message="required">This is required.</div>
                                </div>
                            </md-input-container>
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Descrição</label>
                                <input ng-model="editarFuncionario.descricao" name="descricao" required>
                                <div ng-messages="editFuncionarioForm.descricao.$error">
                                    <div ng-message="required">This is required.</div>
                                </div>
                            </md-input-container>
                        </div>


                    </div>
                </md-dialog-content>




                <md-dialog-actions layout="row">
                    <md-button ng-click="cancelar()">
                        Cancel
                    </md-button>
                    <md-button type="submit" class="md-primary md-raised" ng-disabled="funcionarioForm.$invalid">
                        Save
                    </md-button>
                </md-dialog-actions>-->


        <md-dialog-content layout-padding data-ng-init="getEnuns()">
            <md-tabs md-dynamic-height md-stretch-tabs="always" md-selected="tabIndex" md-border-bottom>
                <md-tab>
                    <md-tab-label>
                        <md-tooltip md-direction="bottom">Informações Pessoais</md-tooltip>
                        <ng-md-icon icon="person" class="material-icons  md-24">
                    </md-tab-label>
                    <md-tab-body>


                        <!--Show errors-->
                        <div class="contextual-error-toast" style="" ng-if="statusError == 'unsuccess'"><div class="error-toast-content">
                            <div layout="column" layout-padding>
                                <span class="md-highlight flex" ng-repeat="(key, mensagem) in messages "style="color:#FF5252" flex=""><i class="material-icons">error</i> Erro - <span ng-bind="mensagem"></span></span></span>
                                <span class="md-highlight flex" style="color:#FF5252" ng-if="message" flex=""><i class="material-icons">error</i> Erro - <span ng-bind="message"></span></span></span>

                            </div></div>
                        </div>


                        <div layout="column" layout-padding>


                            <!--<img alt="Foto" id="imagemFuncionario" src="" style="width: 118px; height: 140px; " border=0>
                            <input type="file" id="file" ng-change="visualizarImg()">-->

                            <!--  <foto></foto>-->

                            <div layout="column" layout-align="center center" flex>
                                <!--<md-card-avatar>
                                    <img class="md-user-avatar"  src="../../../img/user.jpg" ng-if="!editarFuncionario.user.fileUpload" class="avatar" style="width: 100px; height: 100px;">
                                    <img class="md-user-avatar"  src="{{editarFuncionario.user.fileUpload.mimeType}},{{editarFuncionario.user.fileUpload.file}}" ng-if="!!editarFuncionario.user.fileUpload" class="avatar" style="width: 100px; height: 100px;">

                                </md-card-avatar>
                                <input  id="input-file-id" class="ng-hide" type="file"  onchange="angular.element(this).scope().visualizarImagem()" ng-model="editarFuncionario.user.fileUpload"/>
                                <label for="input-file-id"  class="md-button md-raised md-primary">Selecionar Foto</label><span ng-bind="fotoName"></span>-->
                                <foto model="editarFuncionario.user.fileUpload" mimetypefile="{{editarFuncionario.user.fileUpload.mimeType}},{{editarFuncionario.user.fileUpload.file}}" showfoto="{{editarFuncionario.user.fileUpload}}"></foto>
                            </div>


                            <div>
                                <div layout-gt-sm="row">
                                    <div flex-gt-xs>
                                        <h4>Matricula*:</h4>
                                        <md-input-container  class="md-block" >
                                            <label>Nome:</label>
                                            <input ng-model="editarFuncionario.matricula" name="matricula" required="required">
                                            <div ng-messages="newFuncionarioForm.matricula.$error">
                                                <div ng-message="required">This is required.</div>
                                            </div>
                                        </md-input-container>
                                    </div>
                                </div>

                                <div flex-gt-xs>
                                    <h4>Nome*:</h4>
                                    <md-input-container  class="md-block" >
                                        <label>Nome:</label>
                                        <input ng-model="editarFuncionario.user.nome" name="nome" required="required">
                                        <div ng-messages="newFuncionarioForm.nome.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div>

                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>RG*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>RG:</label>
                                                <input ng-model="editarFuncionario.rg" name="rg" required="required">
                                                <div ng-messages="newFuncionarioForm.rg.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>CPF*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>CPF:</label>
                                                <input ng-model="editarFuncionario.cpf" name="cpf" required="required" ui-br-cpf-mask>
                                                <div ng-messages="newFuncionarioForm.cpf.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>Data de Nascimento*:</h4>
                                            <md-datepicker ng-model="dataNascimento" ng-change="formattedDate('dataNascimento')"
                                                           md-placeholder="Data Nascimento" class="date-row">

                                            </md-datepicker>
                                        </div>
                                    </div>

                                </div>

                                <div>

                                    <div layout-gt-md="row">
                                        <div flex-gt-xs>
                                            <h4>Cargo*:</h4>
                                            <md-input-container class="md-block" layout-gt-sm>

                                                <label>Cargo:</label>

                                                <!--<select ng-model="facility" class="input-sm form-control" style="width:auto;display:none" ng-options="item.ID as item.Name for item in items"></select>
                                                <md-select ng-model="facility" class="input-sm form-control">
                                                    <md-option ng-bind="item.Name" ng-value="item.ID" ng-repeat="item in items track by item.ID"></md-option>
                                                </md-select>
                                                <select ng-model="editarFuncionario.cargo" class="input-sm form-control"  ng-options="cargo.nome for cargo in tipoCargos track by cargo.id "></select>
                                                -->

                                                <md-select ng-model="editarFuncionario.cargo" ng-model-options="{trackBy: '$value.value'}"  name="tipoCargo" required="required" placeholder="Inserir Cargo">
                                                    <md-option ng-repeat="(index, type)  in tipoCargos" ng-value="type" ng-selected="index == 0" ng-bind="type.nome">
                                                        <md-icon md-svg-icon="{{avatar}}"></md-icon>
                                                    </md-option>
                                                </md-select>
                                                <md-icon md-svg-src="circle_plus" ng-click="addCargo($event)"></md-icon>
                                                <div ng-messages="editFuncionarioForm.tipoCargo.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>
                                        <!--<md-input-container class="md-block" flex-gt-md>
                                            <md-icon md-svg-src="circle_plus"></md-icon>

                                            <label>Cargo:</label>

                                            <input ng-model="funcionario.cargo" name="cargo" required="required">

                                            <div ng-messages="newFuncionarioForm.cargo.$error">
                                                <div ng-message="required">This is required.</div>
                                            </div>
                                        </md-input-container>-->
                                        <div flex-gt-xs>
                                            <h4>Setor*:</h4>
                                            <md-input-container class="md-block" layout-gt-sm>

                                                <label>Setor:</label>
                                                <md-select ng-model="editarFuncionario.setor" ng-model-options="{trackBy: '$value.value'}"   name="tipoSetor" required="required" placeholder="Inserir Setor">
                                                    <md-option ng-repeat="(index, type) in tipoSetores" ng-value="type" ng-bind="type.nome" ng-selected="index == 0">

                                                    </md-option>
                                                </md-select>
                                                <md-icon md-svg-src="circle_plus"  ng-click="addSetor($event)"></md-icon>
                                                <div ng-messages="editFuncionarioForm.tipoSetor.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>



                                    </div>

                                </div>
                                <div>

                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>Data de Admissão*:</h4>
                                            <md-datepicker ng-model="dataAdmissao"
                                                           md-placeholder="Data Admissao" class="date-row" ng-change="formattedDate('dataAdmissao')">

                                            </md-datepicker>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>Telefone*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <!--<md-icon md-svg-src="phone_form"></md-icon>-->
                                                <label>Telefone:</label>
                                                <input ng-model="editarFuncionario.telefone" name="rg" required="required" ui-br-phone-number>
                                                <div ng-messages="newFuncionarioForm.telefone.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>Sexo*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <md-radio-group  ng-model="editarFuncionario.sexo" class="md-padding" layout="row" layout-sm="column" layout-align="left center"
                                                                 style="padding-top: 0;">

                                                    <!--<md-radio-button ng-repeat="sexo in sexos" value="{{sexo}}" ng-bind="sexo" aria-label="{{sexo}}" flex class="md-primary"></md-radio-button>-->
                                                    <md-radio-button ng-repeat="sexo in sexos" value="{{sexo}}" flex>{{sexo}}</md-radio-button>



                                                </md-radio-group>
                                            </md-input-container>
                                        </div>



                                    </div>

                                </div>

                                <div>

                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>Cep*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>Cep(*):</label>
                                                <input ng-model="editarFuncionario.cep"  name="cep" required="required" ui-br-cep-mask>
                                                <div ng-messages="newFuncionarioForm.cep.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>

                                            </md-input-container>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>Rua*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>Rua(*):</label>
                                                <input ng-model="editarFuncionario.rua" ng-disabled="true"  name="rua" required="required">
                                                <div ng-messages="newFuncionarioForm.rua.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>





                                    </div>

                                </div>

                                <div>

                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>Bairro*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>Bairro(*):</label>
                                                <input ng-model="editarFuncionario.bairro" ng-disabled="true" name="bairro" required="required" >
                                                <div ng-messages="newFuncionarioForm.bairro.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>Cidade*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>Cidade(*):</label>
                                                <input ng-model="editarFuncionario.cidade" ng-disabled="true" name="cidade" required="required">
                                                <div ng-messages="newFuncionarioForm.cidade.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                        <!-- <md-input-container class="md-block"  layout-gt-sm>
                                             <label>Cidade:</label>
                                             <md-select ng-model="funcionario.cidade" name="cidade" required="required">
                                                 <md-option ng-repeat="cidade in cidades" ng-value="cidade"  ng-bind="cidade">
                                                     &lt;!&ndash; <md-icon md-svg-icon="{{avatar}}"></md-icon>&ndash;&gt;
                                                 </md-option>
                                             </md-select>
                                             <div ng-messages="userForm.cidade.$error">
                                                 <div ng-message="required">This is required.</div>
                                             </div>
                                         </md-input-container>

                                         <md-input-container class="md-block" layout-gt-sm>
                                             <label>Estado:</label>
                                             <md-select ng-model="funcionario.estado" name="estado" required="required">
                                                 <md-option ng-repeat="estado in estados" ng-value="estado" ng-bind="estado">
                                                     <&lt;!&ndash;md-icon md-svg-icon="{{avatar}}"></md-icon>&ndash;&gt;
                                                 </md-option>
                                             </md-select>
                                             <div ng-messages="funcionarioForm.estado.$error">
                                                 <div ng-message="required">This is required.</div>
                                             </div>
                                         </md-input-container>-->
                                    </div>

                                </div>


                                <div>

                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>Estdo*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <label>Estdo(*):</label>
                                                <input ng-model="editarFuncionario.estado" ng-disabled="true" name="estado" required="required">
                                                <div ng-messages="newFuncionarioForm.estado.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                        <div flex-gt-xs>
                                            <h4>Número*:</h4>
                                            <md-input-container class="md-block" >
                                                <label>Número(*):</label>
                                                <input ng-model="editarFuncionario.numero" name="numero" required="required">
                                                <div ng-messages="newFuncionarioForm.numero.$error">
                                                    <div ng-message="required">This is required.</div>
                                                </div>
                                            </md-input-container>
                                        </div>
                                    </div>

                                </div>



                            </div>
                        </div>
                    </md-tab-body>
                </md-tab>
                <md-tab >
                    <md-tab-label>
                        <md-tooltip md-direction="bottom">Informações de acesso</md-tooltip>
                        <ng-md-icon icon="lock_open" class="material-icons  md-24">
                    </md-tab-label>
                    <md-tab-body>
                        <!--Show errors-->
                        <div class="contextual-error-toast" style="" ng-if="statusError == 'unsuccess'"><div class="error-toast-content">
                            <div layout="column" layout-padding>
                                <span class="md-highlight flex" ng-repeat="(key, mensagem) in messages "style="color:#FF5252" flex=""><i class="material-icons">error</i> Erro - <span ng-bind="mensagem"></span></span></span>
                                <span class="md-highlight flex" style="color:#FF5252" ng-if="message" flex=""><i class="material-icons">error</i> Erro - <span ng-bind="message"></span></span></span>

                            </div></div>
                        </div>

                        <div layout="column" layout-padding>



                            <div>

                                <div flex-gt-xs>
                                    <h4>Email*:</h4>
                                    <md-input-container  class="md-block" >

                                        <label>Email:</label>
                                        <input ng-model="editarFuncionario.user.email" name="email" required="required" minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/" required="required">
                                        <md-icon md-svg-src="email_form"></md-icon>
                                        <div ng-messages="newFuncionarioForm.email.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>

                               <!--<div>

                                    <div layout-gt-sm="row">
                                        <div layout-gt-sm="row">
                                            <div flex-gt-xs>
                                                <h4>Permissões*:</h4>
                                                <div layout="row" layout-wrap flex>
                                                    <div ng-repeat="(index, type) in permissoes" ng-init="" class="standard" flex="50">

                                                        <label>
                                                            <md-checkbox  ng-model="editarFuncionario.user.permissoes" ng-checked="editarFuncionario.user.permissoes.indexOf(type)"
                                                                          ng-click="toggle(type, selectedCheckbox)"></md-checkbox>
                                                            {{ type.role }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->

                                <!--<div>

                                    <div layout-gt-sm="row">
                                        <div layout-gt-sm="row">
                                            <div flex-gt-xs>
                                                <h4>Permissões*:</h4>
                                                <div layout="row" layout-wrap flex>
                                                    <div ng-repeat="permissao in permissoes">

                                                        <div class="action-checkbox" >
                                                            <label class="ui-checkbox">
                                                                <md-checkbox id="{{pemissao.id}}" type="checkbox" checklist-model="editarFuncionario.user.permissoes" checklist-value="permissao"   />

                                                                <span>{{permissao.role}}</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->

                                <div flex="100" flex-gt-sm="50" layout="column">
                                    <div>

                                        <fieldset class="standard" >
                                            <legend>Permissões*: </legend>
                                            <div layout="row" layout-wrap flex>
                                                <div flex="100" ng-repeat="permissao in permissoes">
                                                     <md-checkbox id="{{permissao.id}}" type="checkbox" checklist-model="editarFuncionario.user.permissoes" checklist-value="permissao" ></md-checkbox>
                                                    <span>{{permissao.role | formatPermission}}</span>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>





                              <!--  <div layout="row">
                                    <md-input-container>
                                        <label>Vegetables</label>
                                        <md-select ng-model="editarFuncionario.user.permissoes"
                                                   md-on-close="clearSearchTerm()"
                                                   data-md-container-class="selectdemoSelectHeader"
                                                   multiple>
                                            <md-select-header class="demo-select-header">
                                                <input ng-model="searchTerm"
                                                       type="search"
                                                       placeholder="Search for a vegetable.."
                                                       class="demo-header-searchbox md-text">
                                            </md-select-header>
                                            <md-optgroup label="vegetables">
                                                <md-option ng-value="type" ng-repeat="(index, type) in permissoes |
              filter:searchTerm" ng-selected="editarFuncionario.user.permissoes.indexOf(type)>-1" ng-bind="type.role"></md-option>
                                            </md-optgroup>
                                        </md-select>
                                    </md-input-container>
                                </div>-->

                                <!--<div layout="row">
                                    <md-input-container>
                                        <label>Vegetables</label>
                                        <md-select ng-model="editarFuncionario.user.permissoes"
                                                   md-on-close="clearSearchTerm()"
                                                   ng-model-options="{trackBy: '$value.value'}"
                                                   name="permissoes"
                                                   data-md-container-class="selectdemoSelectHeader"
                                                   multiple>
                                            <md-select-header class="demo-select-header">
                                                <input ng-model="searchTerm"
                                                       type="search"
                                                       placeholder="Search for a permissoes.."
                                                       class="demo-header-searchbox md-text">
                                            </md-select-header>

                                            <md-optgroup label="permissoes">
                                                <div ng-repeat="(indexb, typeb) in editarFuncionario.user.permissoes">
                                                    <div ng-repeat="(index, type) in permissoes">
                                                     <md-option   ng-value="type" ng-bind="type.role" ng-selected="type.id === typeb.id && editarFuncionario.user.permissoes.indexOf(typeb) == -1"></md-option>
                                                    </div>
                                                </div>
                                            </md-optgroup>
                                        </md-select>
                                    </md-input-container>
                                </div>-->
                               <!--  <pre> {{selectedCheckbox | json}}</pre>
                                <pre> {{permissoes | json}}</pre>-->
                                <div>

                                    <div layout-gt-sm="row">
                                        <!-- <md-input-container class="md-block" flex-gt-sm>
                                         <md-icon md-svg-src="key_form"></md-icon>
                                         <label>Senha:</label>
                                         <input ng-model="funcionario.user.password" name="senha" required="required">
                                         <div ng-messages="newFuncionarioForm.senha.$error">
                                             <div ng-message="required">This is required.</div>
                                         </div>
                                     </md-input-container>
                                    <md-input-container class="md-block" layout-gt-sm>
                                         <md-icon md-svg-src="group_access_form"></md-icon>
                                         <label>Grupo de Acesso:</label>
                                         <md-select ng-model="funcionario.grupoAcesso" name="grupoAcesso" required="required">
                                             <md-option ng-repeat="grupoAcesso in grupoAcessos" ng-value="grupoAcesso">
                                                 <md-icon md-svg-icon="{{avatar}}"></md-icon>
                                             </md-option>
                                         </md-select>
                                         <div ng-messages="funcionarioForm.grupoAcesso.$error">
                                             <div ng-message="required">This is required.</div>
                                         </div>
                                     </md-input-container>-->
                                        <div flex-gt-xs>
                                            <h4>Status*:</h4>
                                            <md-input-container class="md-block" flex-gt-sm>
                                                <md-radio-group ng-model="editarFuncionario.status"  class="md-padding" layout="row" layout-sm="column" layout-align="left center"
                                                                style="padding-top: 0;">

                                                    <md-radio-button value="Ativo" flex class="md-primary">Ativo</md-radio-button>
                                                    <md-radio-button value="Inativo" flex> Inativo</md-radio-button>



                                                </md-radio-group>
                                            </md-input-container>
                                        </div>

                                    </div>

                                </div>







                            </div>
                        </div>
                    </md-tab-body>
                </md-tab>

            </md-tabs>

            <pre>{{editarFuncionario | json}}</pre>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <md-button  class="md-primary md-raised" ng-click="tabIndexControll()" >
                <md-tooltip md-direction="top">{{tabToolTip}}</md-tooltip>
                <span ng-bind="tabControl" ></span>
            </md-button>
            <md-button ng-click="cancelar()">
                Cancel
            </md-button>
            <md-button type="submit" class="md-primary md-raised" ng-disabled="newFuncionarioForm.$invalid">
                Save
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>