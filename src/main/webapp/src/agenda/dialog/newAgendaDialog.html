<!--
<md-dialog class="event-form-dialog" aria-label="New Message">
    <form name="eventForm" class="md-inline-form" novalidate>
        <md-toolbar >
            <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
                <span class="title">Cadastrar Horário para Agendamento</span>
                <md-button class="md-icon-button" ng-click="closeDialog()" aria-label="Close dialog" translate
                           translate-attr-aria-label="CALENDAR.CLOSE_DIALOG">
                    <md-icon md-font-icon="icon-close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content ms-scroll>
            <md-input-container class="md-block">
                <label translate="CALENDAR.TITLE">Title</label>
                <input name="title" ng-model="itemAgenda.tipo" required md-autofocus>
                <div ng-messages="eventForm.title.$error" ng-show="eventForm.title.$touched" role="alert">
                    <div ng-message="required">
                        <span translate="CALENDAR.ERRORS.TITLE_REQUIRED">Title field is required</span>
                    </div>
                </div>
            </md-input-container>

            <md-list class="all-day">
                <md-list-item>
                    <p translate="CALENDAR.ALL_DAY">All Day</p>
                    <md-switch class="md-secondary" ng-model="calendarEvent.allday" aria-label="All day" translate
                               translate-attr-aria-label="CALENDAR.ALL_DAY"></md-switch>
                </md-list-item>
            </md-list>

            <div layout="row" class="date-row">
                <md-datepicker ng-model="calendario.start" md-current-view="year" md-placeholder="Start Date"></md-datepicker>

                <md-input-container class="no-errors-spacer" flex md-no-float>
                    <input ng-model="calendario.startTime" placeholder="Start Time" translate
                           translate-attr-placeholder="CALENDAR.START_TIME">
                </md-input-container>
            </div>

            <div layout="row" class="date-row">
                <md-datepicker ng-model="calendarEvent.end" md-placeholder="End Date"></md-datepicker>

                <md-input-container class="no-errors-spacer" flex md-no-float>
                    <input ng-model="calendarEvent.endTime" placeholder="End Time" translate
                           translate-attr-placeholder="CALENDAR.END_TIME">
                </md-input-container>
            </div>

            <md-input-container class="md-block" flex>
                <label translate="CALENDAR.REPEAT">Repeat</label>
                <input ng-model="calendarEvent.repeat">
            </md-input-container>

            <md-input-container class="md-block" flex>
                <label translate="CALENDAR.LOCATION">Location</label>
                <input ng-model="calendarEvent.location">
            </md-input-container>

            <div class="notifications" layout="column">
                <div class="title" translate="CALENDAR.NOTIFICATIONS">Notifications</div>

                <md-select ng-model="notification" placeholder="Notification"
                           ng-repeat="notification in calendarEvent.notifications">
                    <md-option ng-repeat="opt in notifications" value="{{opt}}">{{opt}}</md-option>
                </md-select>

                <md-button aria-label="+ Add Another Notification" translate="CALENDAR.ADD_NOTIFICATION"
                           translate-attr-aria-label="CALENDAR.ADD_NOTIFICATION">
                    + Add Another Notification
                </md-button>
            </div>

            <md-input-container flex class="md-block textarea-container">
                <label translate="CALENDAR.NOTES">Notes</label>
                <textarea ng-model="task.notes" md-maxlength="250" max-rows="4"></textarea>
            </md-input-container>
        </md-dialog-content>

        <md-dialog-actions layout="row" layout-align="space-between center">
            <md-button ng-click="salvar()" class="save-button md-accent md-raised" aria-label="SAVE"

                       translate="CALENDAR.SAVE"
                       translate-attr-aria-label="CALENDAR.SAVE">
                SAVE
            </md-button>

            <md-button class="md-icon-button" ng-click="removeEvent()" aria-label="Delete" translate translate-attr-aria-label="CALENDAR.DELETE">
                <md-icon md-font-icon="icon-delete"></md-icon>
                <md-tooltip><span translate="CALENDAR.DELETE">Delete</span></md-tooltip>
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>-->




<md-dialog aria-label="Gerar Horário para Agendamento" data-ng-init="getEnuns()">
    <!--<pre>{{ funcionario| json}}</pre>-->
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Gerar Horário para Agendamento</h2>
            <span flex></span>
           <!-- <md-button class="md-icon-button" ng-click="cancel()">
                <md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
            </md-button>-->
        </div>
    </md-toolbar>
    <form name="eventForm" ng-submit="salvar()" >
        <md-dialog-content layout-padding>

            <md-tabs md-dynamic-height md-stretch-tabs="always"   md-border-bottom>
                <md-tab>
                    <md-tab-label>
                        <md-tooltip md-direction="bottom">Gerar Horário</md-tooltip>
                        <ng-md-icon icon="person" class="material-icons  md-24">
                    </md-tab-label>
                    <md-tab-body>


                        <!--Show errors-->
                        <div class="contextual-error-toast" style="" ng-if="statusError == 'unsuccess'"><div class="error-toast-content">
                            <div layout="column" layout-padding>
                                <span class="md-highlight flex" ng-repeat="(key, mensagem) in messages "style="color:#FF5252" flex=""><i class="material-icons">error</i> Erro - <span ng-bind="mensagem"></span></span></span>
                                <span class="md-highlight flex" style="color:#FF5252" ng-if="message" flex=""><i class="material-icons">error</i> Erro - <span ng-bind="message"></span></span></span>

                            </div></div>
                        </div>


                        <div layout="column" layout-padding>
                           <!-- <foto model="funcionario.user.fileUpload" mimetypefile="{{funcionario.user.fileUpload.mimeType}},{{funcionario.user.fileUpload.file}}" showfoto="{{funcionario.user.fileUpload}}"></foto>-->



                            <div>

                                <div layout-gt-sm="row">

                                    <div flex-gt-xs>

                                        <div flex-gt-xs>
                                            <h4>Médico(a)*:</h4>
                                            <md-input-container  class="md-block" flex-gt-sm>
                                                <label>Médico(a):</label>
                                                <span>{{itemAgenda.medico.user.nome}}</span>
                                                <input ng-model="itemAgenda.medico" class="ng-hide" md-autofocus name="medico"  required="required">
                                                <div ng-messages="eventForm.medico.$error">
                                                    <div ng-message="required">Campo Obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                    </div>

                                </div>

                                <div layout-gt-sm="row">

                                    <div flex-gt-xs>

                                        <div flex-gt-xs>
                                            <h4>Data de Agendamento*:</h4>
                                            <md-input-container  class="md-block" flex-gt-sm>
                                                <label>Data de Agendamento:</label>
                                                <span>{{itemAgenda.agenda.dataAgendamento}}</span>
                                                <input ng-model="itemAgenda.agenda.dataAgendamento" class="ng-hide" md-autofocus name="dataAgendamento"  required="required">
                                                <div ng-messages="eventForm.dataAgendamento.$error">
                                                    <div ng-message="required">Campo Obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                    </div>

                                </div>

                                <div>

                                    <div layout-gt-sm="row">


                                        <div flex-gt-xs>
                                            <h4>Data de Inicial*:</h4>
                                            <md-datepicker ng-model="dataInicialConsulta" md-autofocus name="dateField" ng-change="formattimepiker('dataInicialConsulta',0)"
                                                           md-current-view="year"   md-min-date="dataMinimaInicial" md-max-date="dataMaximaInicial"    md-placeholder="Data Inicial:" class="date-row">

                                            </md-datepicker>
                                            <div ng-messages="eventForm.dateField.$error">
                                                <div ng-message="valid">A data inserida não é válida!</div>
                                                <div ng-message="required">Campo Obrigatório!</div>
                                                <div ng-message="mindate">Deve ser maior que a data de hoje!</div>
                                                <div ng-message="maxdate">Deve ser menor ou igual ao intervalo de 7 dias!</div>
                                            </div>

                                        </div>

                                    </div>

                                </div>

                                <div>
                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>Hora Inicial*:</h4>
                                            <md-hour-minutes type="HH" ng-model="horaInicial" message="{{message.hour}}" convertdate="formattimepiker(fieldData,minute);" field="horaInicial" read-only="readOnly"></md-hour-minutes>
                                        </div>


                                        <div flex-gt-xs>
                                            <h4>Minuto Inicial*:</h4>
                                            <md-hour-minutes type="MM" ng-model="minutoInicial" message="{{message.hour}}" convertdate="formattimepiker(fieldData,minute);" field="minutoInicial" read-only="readOnly"></md-hour-minutes>
                                        </div>
                                        <!--<md-time-picker ng-model="horaInicial" message="message" ng-change="formattedDate('horaInicial')" label1= "Hora Inicial" label2="Minuto Inicial" hours="horaInicial.getHours()"no-meridiem no-auto-switch></md-time-picker>-->


                                        <!--<div flex-gt-xs>
                                            <h4><md-icon><i class="material-icons">&#xE192;</i></md-icon> Hora Inicial*:</h4>
                                            <md-input-container class="md-block" layout-gt-sm>
                                                <

                                               &lt;!&ndash; {{time.getHours()}}:{{time.getMinutes()}}
                                                <md-select ng-model="horaInicial" aria-label="Hora Final" md-autofocus name="horaInicial" required="required">
                                                    <md-option ng-repeat="horaInicial in horas" ng-value="horaInicial" ng-bind="horaInicial">
                                                        &lt;!&ndash;<md-icon md-svg-icon="{{avatar}}"></md-icon>&ndash;&gt;
                                                    </md-option>
                                                </md-select>&ndash;&gt;
                                                <div ng-messages="eventForm.horaInicial.$error">
                                                    <div ng-message="required">Campo Obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                        </div>-->



                                    </div>


                                </div>

                                <div>

                                    <div layout-gt-sm="row">
                                        <div flex-gt-xs>
                                            <h4>Data Final*:</h4>
                                            <md-datepicker ng-model="dataFinalConsulta" md-current-view="year"
                                                           md-placeholder="Data Final:" md-min-date="dataMinimaInicialFinal" md-max-date="dataMaximaInicial"  class="date-row" ng-change="formattimepiker('dataFinalConsulta')">

                                            </md-datepicker>
                                        </div>

                                    </div>

                                </div>


                                <div>

                                    <div layout-gt-sm="row">

                                        <div flex-gt-xs>
                                            <h4>Hora Final*:</h4>
                                            <md-hour-minutes type="HH" ng-model="horaFinal" message="{{message.hour}}" convertdate="formattimepiker(fieldData,minute);" field="horaFinal" read-only="readOnly"></md-hour-minutes>
                                        </div>


                                            <div flex-gt-xs>
                                                <h4>Minuto Final*:</h4>
                                                <md-hour-minutes type="MM" ng-model="minutoFinal" message="{{message.hour}}" convertdate="formattimepiker(fieldData,minute);" field="minutoFinal" read-only="readOnly"></md-hour-minutes>
                                            </div>
                                        <!--<md-time-picker ng-model="horaFinal" message="message" label1= "Hora Final" label2="Minuto Final" hours="horaFinal.getHours()"no-meridiem no-auto-switch></md-time-picker>-->


                                    </div>


                                </div>

                                <div>

                                    <div layout-gt-sm="row">





                                        <div flex-gt-xs>
                                            <h4>Tipo Agendamento*:</h4>
                                            <md-input-container class="md-block" layout-gt-sm>

                                                <md-select ng-model="itemAgenda.tipoAgenda" aria-label="Tipo Agenda"  name="tipoRegistro" required="required" placeholder="Tipo Agenda">
                                                    <md-option ng-repeat="tipoAgenda in tiposAgenda" ng-value="tipoAgenda" ng-bind="tipoAgenda">
                                                        <!--<md-icon md-svg-icon="{{avatar}}"></md-icon>-->
                                                    </md-option>
                                                </md-select>
                                                <div ng-messages="eventForm.tipoAgenda.$error">
                                                    <div ng-message="required">Campo Obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                        </div>



                                    </div>


                                </div>


                                <div>

                                    <div layout-gt-sm="row">


                                        <div flex-gt-xs>
                                            <h4>Status Agenda*:</h4>
                                            <md-input-container class="md-block" layout-gt-sm>

                                                <md-select ng-model="itemAgenda.statusAgenda" aria-label="Status Agenda"  name="statusAgenda" required="required" placeholder="Status Agenda">
                                                    <md-option ng-repeat="statusAgenda in statusAgendas" ng-value="statusAgenda" ng-bind="statusAgenda">
                                                        <!--<md-icon md-svg-icon="{{avatar}}"></md-icon>-->
                                                    </md-option>
                                                </md-select>
                                                <div ng-messages="eventForm.statusAgenda.$error">
                                                    <div ng-message="required">Campo Obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                    </div>


                                </div>

                                <div>

                                    <div layout-gt-sm="row">


                                        <div flex-gt-xs>
                                            <h4>Valor da Consulta*:</h4>
                                            <md-input-container  class="md-block" flex-gt-sm>
                                                <label>Valor da Consulta:</label>
                                                <input ng-model="itemAgenda.valorConsulta"  name="valorConsulta" minlength="4" maxlength="15" ui-money-mask="2" required="required" placeholder="Valor Consulta">
                                                <div ng-messages="eventForm.valorConsulta.$error">
                                                    <div ng-message="required">Campo Obrigatório.</div>
                                                </div>
                                            </md-input-container>
                                        </div>

                                    </div>


                                </div>







                            </div>
                        </div>
                    </md-tab-body>
                </md-tab>


            </md-tabs>

           <!-- <pre>{{itemAgenda | json}}</pre>-->
        </md-dialog-content>
        <!--<pre>{{funcionario | json}}</pre>-->


        <md-dialog-actions layout="row">


           <!-- <md-button  class="md-primary md-raised" ng-click="tabIndexControll()" >
                <md-tooltip md-direction="top">{{tabToolTip}}</md-tooltip>
                <span ng-bind="tabControl" ></span>
            </md-button>-->
            <md-button ng-click="cancelar()">
                <md-tooltip md-direction="top" >Cancelar</md-tooltip>
                Cancel
            </md-button>
            <md-button type="submit" class="md-primary md-raised" ng-disabled="eventForm.$invalid">
                <md-tooltip md-direction="top" >Salvar</md-tooltip>
                Save
            </md-button>
        </md-dialog-actions>

    </form>
</md-dialog>